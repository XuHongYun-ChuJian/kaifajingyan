#### 系统时间不对时，必应与百度的表现差异（深入分析 SSL/TLS 证书验证）

##### 1. 现象
- **必应**：系统时间不对时，能正常打开，并且自动修正时间。
- **百度**：证书验证失败，无法建立 HTTPS 连接。

##### 2. 原因
###### 2.1 **必应**
- 微软网站（如 `bing.com`）触发 **Windows 系统的自动时间同步机制**（Windows Time Service W32Time）。当系统时间不对时，访问这些网站时，系统会通过与 NTP 服务器同步自动修正系统时间，确保 SSL/TLS 证书的有效期能够通过验证。
- **SSL/TLS 证书验证**：
  - SSL/TLS 证书包含有效期字段 (`notBefore` 和 `notAfter`)，如果系统时间错误，浏览器会认为证书无效。
  - 必应触发了时间同步机制，确保了系统时间与证书有效期一致。

###### 2.2 **百度**
- 百度没有类似的时间同步机制，系统时间不对时，证书验证会失败，导致无法访问。
- **SSL/TLS 证书验证**：
  - 百度网站不触发时间同步机制，系统时间错误时，证书的 `notBefore` 或 `notAfter` 时间字段不匹配，导致证书验证失败。
  - 证书的有效期检查依赖系统时间，如果系统时间不对，浏览器会返回错误。

##### 3. SSL/TLS 证书验证与系统时间的关系
- **证书有效期检查**：  
  SSL/TLS 握手时，客户端会检查证书的有效期（`notBefore` 和 `notAfter`）。如果系统时间不对，证书会被认为无效，导致 HTTPS 连接失败。

- **OCSP/CRL 检查**：  
  客户端可能会检查证书是否被吊销，通常通过 **OCSP**（在线证书状态协议）或 **CRL**（证书吊销列表）。这些检查也依赖准确的系统时间来确保结果的正确性。

- **时间戳与会话重用**：  
  SSL/TLS 握手过程中的时间戳（如会话密钥）也需要准确的系统时间。如果时间错误，会影响会话的有效性，导致重用失败。

##### 4. 如何避免系统时间错误导致的问题
- **保持系统时间准确**：  
  确保系统时间与标准时间源（如 NTP）同步。Windows 系统可以通过 `w32tm /resync` 命令开启自动时间同步。

- **手动修正时间**：  
  如果系统时间错误，手动同步时间，或通过访问微软相关站点（如必应）触发自动修正。

- **开发环境中检查时间**：  
  在开发环境中，确保所有设备的时间一致，特别是在涉及证书验证的场景下。

---

#### 电脑系统时间修改导致 Qt Creator 不重新生成 exe 文件的问题

##### 1. 现象
- 将电脑系统时间设置为过去的时间后，使用 Qt Creator 编译一次。
- 改正系统时间后，再次编译时，Qt 不会重新生成 exe 文件，仍然是之前的 exe。
- 即使选择重新构建，Qt 也不会重新生成 exe 文件。
- 需要手动删除 `build` 目录，或者在极端情况下重启 Qt Creator 才能解决问题。

##### 2. 可能原因
- **文件时间戳未更新**：Qt Creator 在编译时检查文件的修改时间。如果系统时间被修改，文件的时间戳可能不被更新，导致 Qt Creator 认为没有需要重新编译的文件。
- **缓存元数据**：Qt Creator 可能缓存了一些时间相关的元数据，导致时间修改后无法正确识别需要重新编译的文件。

##### 3. 解决方法
- **删除 `build` 目录**：  
  删除 `build` 目录可以强制 Qt 重新生成所有文件，避免因时间戳问题导致的编译错误。

- **重启 Qt Creator**：  
  在极端情况下，重启 Qt Creator 可以清除缓存的元数据，确保重新生成 exe 文件。

- **检查系统时间同步**：  
  确保系统时间与标准时间源同步，避免时间不一致的问题。
